<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My profile</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --font: 'Montserrat', sans-serif;
      --text: #031419;
      --muted: #536b75;
      --line: #e4e7eb;
      --link: #0079ca;
    }
    html { scroll-behavior: smooth; -webkit-tap-highlight-color: transparent; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: var(--font); background: #e8ebef; color: var(--text); }

    .phone {
      width: 100%; max-width: 430px; min-height: 100vh;
      margin: 0 auto; position: relative;
      display: flex; flex-direction: column;
      background: #fff;
    }

    /* Navbar — solid white */
    .navbar {
      position: sticky; top: 0; z-index: 10;
      display: flex; align-items: center; justify-content: space-between;
      padding: 10px 16px;
      background: #fff;
      border-bottom: 1px solid #e6eaee;
      flex-shrink: 0;
    }
    .logo-link img { height: 38px; width: auto; display: block; }
    .nav-icons { display: flex; align-items: center; gap: 16px; }
    .nav-icons svg { width: 24px; height: 24px; color: #031419; stroke: currentColor; }
    .nav-icon-btn { margin:0; padding:0; border:none; background:none; display:inline-flex; align-items:center; justify-content:center; cursor:pointer; text-decoration:none; color:inherit; }

    /* Avatar states */
    .avatar-wrap { position: relative; display: inline-flex; align-items: center; text-decoration: none; }
    .avatar-wrap img { width: 24px; height: 24px; border-radius: 50%; object-fit: cover; display: block; }
    .avatar-wrap .avatar-placeholder { display: none; }
    .avatar-wrap.logged-in::after {
      content: ''; position: absolute; top: -1px; right: -1px;
      width: 8px; height: 8px; background: #22ad5c;
      border: 1.5px solid #fff; border-radius: 50%;
    }
    .avatar-wrap.logged-out img { display: none; }
    .avatar-wrap.logged-out .avatar-placeholder { display: flex; }

    /* Full-screen dark backdrop behind the sheet */
    .sheet-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(3,20,25,0.45);
      z-index: 20;
      opacity: 0;
      transition: opacity 0.3s ease;
      cursor: pointer;
    }
    .sheet-backdrop.open { opacity: 1; }

    /* Profile sheet — fixed overlay at the bottom */
    .sheet {
      position: fixed;
      bottom: 0; left: 50%;
      transform: translateX(-50%) translateY(100%);
      width: 100%; max-width: 430px;
      display: flex; flex-direction: column;
      background: #fff;
      border-radius: 16px 16px 0 0;
      z-index: 21;
      box-shadow: 0 -4px 20px rgba(0,0,0,0.12);
      transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .sheet.open { transform: translateX(-50%) translateY(0); }
    .sheet-handle { width:36px; height:4px; background:#d7dde2; border-radius:4px; margin:8px auto 0; flex-shrink:0; }

    /* Sheet header */
    .sheet-header {
      height: 56px; flex-shrink: 0;
      display: flex; align-items: center; justify-content: center;
      position: relative;
      border-bottom: 1px solid var(--line);
      border-radius: 16px 16px 0 0;
    }
    .sheet-header h1 { font-size: 16px; font-weight: 700; line-height: 24px; }
    .sheet-close {
      position: absolute; right: 16px; top: 50%; transform: translateY(-50%);
      border: none; background: none; cursor: pointer;
      width: 28px; height: 28px; display: inline-flex;
      align-items: center; justify-content: center;
      color: var(--text); text-decoration: none;
    }
    .sheet-close svg { width: 20px; height: 20px; }

    /* Sheet body */
    .sheet-body { padding: 20px 16px 24px; }

    /* Sections */
    .section { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid var(--line); }
    .section:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }

    .section-title {
      font-size: 16px; font-weight: 700; line-height: 24px;
      margin-bottom: 12px;
    }

    /* Account email row */
    .account-email {
      display: flex; align-items: center; gap: 8px;
      font-size: 14px; line-height: 20px; color: var(--text);
      margin-bottom: 16px;
    }
    .account-email .google-icon { width: 20px; height: 20px; flex-shrink: 0; }

    /* Menu rows */
    .menu-row {
      display: flex; align-items: center; justify-content: space-between;
      padding: 10px 0; cursor: pointer; text-decoration: none; color: var(--text);
    }
    .menu-row span { font-size: 14px; font-weight: 500; line-height: 20px; }
    .menu-row .chevron { width: 18px; height: 18px; color: #a0adb5; flex-shrink: 0; }

    /* External link */
    .ext-link {
      display: inline-flex; align-items: center; gap: 6px;
      color: var(--link); font-size: 14px; font-weight: 600;
      line-height: 20px; text-decoration: underline;
      text-underline-offset: 2px;
    }
    .ext-link svg { width: 14px; height: 14px; flex-shrink: 0; }

    /* Fever Club */
    .club-header {
      display: flex; align-items: center; gap: 6px;
      margin-bottom: 12px;
    }
    .club-header .section-title { margin-bottom: 0; }
    .club-header .info-icon {
      width: 18px; height: 18px; color: #a0adb5; cursor: pointer;
    }

    .club-pill {
      display: inline-flex; align-items: center; gap: 8px;
      border-radius: 999px; background: #f0f1f3;
      padding: 6px 14px 6px 6px;
      font-size: 14px; font-weight: 600; line-height: 20px;
      color: var(--text); margin-bottom: 10px;
    }
    .club-pill .star-badge {
      width: 26px; height: 26px; border-radius: 50%;
      display: inline-flex; align-items: center; justify-content: center;
      background: #dd8400;
    }
    .club-pill .star-badge svg { width: 14px; height: 14px; }

    /* Logout row */
    .logout-row {
      display: flex; align-items: center; justify-content: space-between;
      padding: 12px 0;
      border: none; background: none; width: 100%;
      font-family: var(--font); font-size: 14px; font-weight: 500;
      line-height: 20px; color: var(--text); cursor: pointer;
    }
    .logout-row svg { width: 20px; height: 20px; color: var(--text); flex-shrink: 0; }
    .logout-row:hover { opacity: 0.7; }
  </style>
</head>
<body>
  <div class="phone">
    <!-- Navbar -->
    <nav class="navbar">
      <a class="logo-link" href="home.html">
        <img src="img/fever-logo.png" alt="Fever">
      </a>
      <div class="nav-icons">
        <a class="nav-icon-btn" href="search.html" aria-label="Search"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><circle cx="10.5" cy="10.5" r="7"/><line x1="15.5" y1="15.5" x2="22" y2="22"/></svg></a>
        <a class="nav-icon-btn" href="favorites.html" aria-label="Favorites"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></a>
        <a class="nav-icon-btn" href="home.html" aria-label="Location"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"/><circle cx="12" cy="9" r="2.5"/></svg></a>
        <a class="avatar-wrap logged-in" id="avatarBtn" href="profile.html" aria-label="Profile">
          <img src="https://www.figma.com/api/mcp/asset/541291f3-2b10-4d67-b843-70a0add86fab" alt="Profile">
          <svg class="avatar-placeholder" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M12 3.25C7.008 3.25 3 7.293 3 12.25S7.008 21.25 12 21.25c4.957 0 9-4.008 9-9 0-4.957-4.043-9-9-9zm0 16.875c-1.688 0-3.234-.492-4.5-1.371.14-1.758 1.582-3.129 3.375-3.129h2.25c1.758 0 3.2 1.371 3.34 3.129-1.266.879-2.813 1.371-4.465 1.371zm5.449-2.215c-.492-1.933-2.25-3.41-4.324-3.41h-2.25c-2.11 0-3.867 1.477-4.36 3.41C5.04 16.47 4.126 14.465 4.126 12.25c0-4.324 3.515-7.875 7.875-7.875s7.875 3.551 7.875 7.875c0 2.215-.95 4.219-2.426 5.66zM12 7.75c-1.582 0-2.813 1.266-2.813 2.813 0 1.582 1.231 2.812 2.813 2.812 1.547 0 2.813-1.23 2.813-2.813 0-1.546-1.266-2.812-2.813-2.812zm0 4.5c-.95 0-1.688-.738-1.688-1.688 0-.914.739-1.687 1.688-1.687.914 0 1.688.773 1.688 1.688 0 .949-.774 1.687-1.688 1.687z" fill="#536B75"/></svg>
        </a>
        <a class="nav-icon-btn" href="home.html" aria-label="Menu"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg></a>
      </div>
    </nav>

    <!-- Dark backdrop behind profile sheet -->
    <div class="sheet-backdrop"></div>

    <!-- Profile Sheet (fixed overlay at bottom) -->
    <section class="sheet">
      <div class="sheet-handle"></div>
      <div class="sheet-header">
        <h1>Profile</h1>
        <button type="button" class="sheet-close" id="sheetCloseBtn" aria-label="Close">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </div>

      <div class="sheet-body">
        <!-- My account -->
        <div class="section">
          <h2 class="section-title">My account</h2>
          <div class="account-email">
            <svg class="google-icon" viewBox="0 0 20 20" fill="none">
              <path d="M18.17 10.2c0-.57-.05-1.12-.15-1.64H10v3.1h4.58a3.92 3.92 0 01-1.7 2.57v2.14h2.75c1.61-1.48 2.54-3.66 2.54-6.17z" fill="#4285F4"/>
              <path d="M10 18.5c2.3 0 4.23-.76 5.63-2.07l-2.75-2.14c-.76.51-1.74.81-2.88.81-2.21 0-4.09-1.5-4.76-3.51H2.4v2.21A8.5 8.5 0 0010 18.5z" fill="#34A853"/>
              <path d="M5.24 11.59a5.1 5.1 0 010-3.26V6.12H2.4a8.5 8.5 0 000 7.68l2.84-2.21z" fill="#FBBC05"/>
              <path d="M10 4.82a4.6 4.6 0 013.27 1.28l2.45-2.45A8.2 8.2 0 0010 1.5a8.5 8.5 0 00-7.6 4.62l2.84 2.21C5.91 6.32 7.79 4.82 10 4.82z" fill="#EA4335"/>
            </svg>
            emiliano.echevarria@feverup.com
          </div>

          <a class="menu-row" href="javascript:void(0)">
            <span>Profile</span>
            <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M9 18l6-6-6-6"/></svg>
          </a>
          <a class="menu-row" href="favorites.html">
            <span>Favorites</span>
            <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M9 18l6-6-6-6"/></svg>
          </a>
        </div>

        <!-- My Tickets -->
        <div class="section">
          <h2 class="section-title">My tickets</h2>
          <a class="ext-link" href="javascript:void(0)">
            See my tickets in the app
            <svg viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 1.5h7.5V9"/><path d="M12.5 1.5L1.5 12.5"/></svg>
          </a>
        </div>

        <!-- Fever Club -->
        <div class="section">
          <div class="club-header">
            <h2 class="section-title">Fever Club</h2>
            <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
          </div>
          <div class="club-pill">
            <span class="star-badge">
              <svg viewBox="0 0 14 14" fill="white"><path d="M7 0l2.16 4.38L14 5.1l-3.5 3.41.83 4.82L7 11.07l-4.33 2.27.83-4.82L0 5.1l4.84-.72L7 0z"/></svg>
            </span>
            625 points
          </div>
          <br>
          <a class="ext-link" href="javascript:void(0)">
            Get rewards in the app
            <svg viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 1.5h7.5V9"/><path d="M12.5 1.5L1.5 12.5"/></svg>
          </a>
        </div>

        <!-- Logout -->
        <div class="section">
          <button type="button" class="logout-row" id="logoutBtn">
            <span>Logout</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
          </button>
        </div>
      </div>
    </section>
  </div>

  <script src="js/burger-menu.js"></script>
  <script>
    (function() {
      var LOGGED_IN_KEY = 'fever_logged_in';
      var avatarBtn = document.getElementById('avatarBtn');
      var logoutBtn = document.getElementById('logoutBtn');
      var sheet = document.querySelector('.sheet');
      var backdrop = document.querySelector('.sheet-backdrop');
      var closeBtn = document.getElementById('sheetCloseBtn');

      function isLoggedIn() {
        return localStorage.getItem(LOGGED_IN_KEY) === 'true';
      }

      function setLoggedIn(val) {
        localStorage.setItem(LOGGED_IN_KEY, val ? 'true' : 'false');
      }

      function updateAvatar() {
        if (isLoggedIn()) {
          avatarBtn.classList.add('logged-in');
          avatarBtn.classList.remove('logged-out');
        } else {
          avatarBtn.classList.remove('logged-in');
          avatarBtn.classList.add('logged-out');
        }
      }

      // Open animation on page load
      requestAnimationFrame(function() {
        requestAnimationFrame(function() {
          sheet.classList.add('open');
          backdrop.classList.add('open');
        });
      });

      // Close with slide-down animation then navigate back
      function closeSheet() {
        sheet.classList.remove('open');
        backdrop.classList.remove('open');
        setTimeout(function() { history.back(); }, 360);
      }

      closeBtn.addEventListener('click', closeSheet);
      backdrop.addEventListener('click', closeSheet);

      // Swipe-to-dismiss
      var startY = 0, currentY = 0, isDragging = false;
      sheet.addEventListener('touchstart', function(e) {
        startY = e.touches[0].clientY;
        currentY = startY;
        isDragging = true;
        sheet.style.transition = 'none';
      }, { passive: true });
      sheet.addEventListener('touchmove', function(e) {
        if (!isDragging) return;
        currentY = e.touches[0].clientY;
        var dy = currentY - startY;
        if (dy < 0) dy = 0;
        if (dy > 0) {
          e.preventDefault();
          sheet.style.transform = 'translateX(-50%) translateY(' + dy + 'px)';
        }
      }, { passive: false });
      sheet.addEventListener('touchend', function() {
        if (!isDragging) return;
        isDragging = false;
        sheet.style.transition = '';
        if (currentY - startY > 80) {
          closeSheet();
        } else {
          sheet.style.transform = '';
        }
      });

      logoutBtn.addEventListener('click', function() {
        setLoggedIn(false);
        updateAvatar();
        sheet.classList.remove('open');
        backdrop.classList.remove('open');
        setTimeout(function() {
          window.location.href = 'home.html';
        }, 360);
      });

      avatarBtn.addEventListener('click', function(e) {
        if (!isLoggedIn()) {
          e.preventDefault();
          window.location.href = 'login.html?returnTo=' + encodeURIComponent(window.location.pathname);
        }
      });

      updateAvatar();
    })();
  </script>
</body>
</html>
