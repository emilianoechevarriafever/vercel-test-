<!doctype html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" sizes="32x32" href="../../favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../favicons/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="../../favicons/apple-touch-icon.png">
  <link rel="shortcut icon" href="../../favicon.ico">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My profile</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --font: 'Montserrat', sans-serif;
      --text: #031419;
      --muted: #536b75;
      --line: #ccd2d8;
      --link: #0079ca;
    }
    html { scroll-behavior: smooth; -webkit-tap-highlight-color: transparent; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: var(--font); background: #e8ebef; color: var(--text); }

    .phone {
      width: 100%; max-width: 430px; min-height: 100vh;
      margin: 0 auto; position: relative;
      display: flex; flex-direction: column;
      background: #fff;
    }

    /* Navbar — solid white */
    .navbar {
      position: sticky; top: 0; z-index: 10;
      display: flex; align-items: center; justify-content: space-between;
      padding: 10px 16px;
      background: #fff;
      border-bottom: 1px solid #ccd2d8;
      flex-shrink: 0;
    }
    .logo-link img { height: 38px; width: auto; display: block; }
    .nav-icons { display: flex; align-items: center; gap:20px; }
    .nav-icons svg { height:24px; width:auto; color: #031419; }
    .nav-icon-btn{all:unset;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;color:inherit;width:24px;height:24px;flex-shrink:0;box-sizing:border-box;overflow:visible}

    /* Avatar states */
    .avatar-wrap{all:unset;position:relative;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;width:24px;height:24px;flex-shrink:0;box-sizing:border-box}
    .avatar-wrap img { width: 24px; height: 24px; border-radius: 50%; object-fit: cover; display: block; display:none;}
    .avatar-wrap .avatar-placeholder { display:flex;}
    html.u-in .avatar-wrap::after {
      content: ''; position: absolute; top: -1px; right: -1px;
      width: 8px; height: 8px; background: #22ad5c;
      border: 1.5px solid #fff; border-radius: 50%;
    }
    html.u-in .avatar-wrap img{display:block}
    html.u-in .avatar-wrap .avatar-placeholder{display:none}
    /* Full-screen dark backdrop behind the sheet */
    .sheet-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(3,20,25,0.45);
      z-index: 20;
      opacity: 0;
      transition: opacity 0.3s ease;
      cursor: pointer;
    }
    .sheet-backdrop.open { opacity: 1; }

    /* Profile sheet — fixed overlay at the bottom */
    .sheet {
      position: fixed;
      bottom: 0; left: 50%;
      transform: translateX(-50%) translateY(100%);
      width: 100%; max-width: 430px;
      display: flex; flex-direction: column;
      background: #fff;
      border-radius: 16px 16px 0 0;
      z-index: 21;
      box-shadow: 0 -4px 20px rgba(0,0,0,0.12);
      transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .sheet.open { transform: translateX(-50%) translateY(0); }
    .sheet-handle { width:36px; height:4px; background:#d7dde2; border-radius:4px; margin:8px auto 0; flex-shrink:0; }

    /* Sheet header */
    .sheet-header {
      height: 56px; flex-shrink: 0;
      display: flex; align-items: center; justify-content: center;
      position: relative;
      border-bottom: 1px solid var(--line);
      border-radius: 16px 16px 0 0;
    }
    .sheet-header h1 { font-size: 16px; font-weight: 600; line-height: 24px; }
    .sheet-close {
      position: absolute; right: 16px; top: 50%; transform: translateY(-50%);
      border: none; background: none; cursor: pointer;
      width: 28px; height: 28px; display: inline-flex;
      align-items: center; justify-content: center;
      color: var(--text); text-decoration: none;
    }
    .sheet-close svg { width: 20px; height: 20px; }

    /* Sheet body */
    .sheet-body { padding: 24px 16px 24px; }

    /* Sections */
    .section { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid var(--line); }
    .section:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }

    .section-title {
      font-size: 16px; font-weight: 600; line-height: 24px;
      margin-bottom: 12px;
    }

    /* Account email row */
    .account-email {
      display: flex; align-items: center; gap: 8px;
      font-size: 14px; line-height: 20px; color: var(--text);
      margin-bottom: 16px;
    }
    .account-email .google-icon { width: 20px; height: 20px; flex-shrink: 0; }

    /* Menu rows */
    .menu-row {
      display: flex; align-items: center; justify-content: space-between;
      padding: 10px 0; cursor: pointer; text-decoration: none; color: var(--text);
    }
    .menu-row span { font-size: 14px; font-weight: 500; line-height: 20px; }
    .menu-row .chevron { width: 18px; height: 18px; color: #a0adb5; flex-shrink: 0; }

    /* External link */
    .ext-link {
      display: inline-flex; align-items: center; gap: 6px;
      color: var(--link); font-size: 14px; font-weight: 600;
      line-height: 20px; text-decoration: underline;
      text-underline-offset: 2px;
    }
    .ext-link svg { width: 14px; height: 14px; flex-shrink: 0; }

    /* Fever Club */
    .club-header {
      display: flex; align-items: center; gap: 6px;
      margin-bottom: 12px;
    }
    .club-header .section-title { margin-bottom: 0; }
    .club-header .info-icon {
      width: 18px; height: 18px; color: #a0adb5; cursor: pointer;
    }

    .club-pill {
      display: inline-flex; align-items: center; gap: 8px;
      border-radius: 64px; background: #f0f1f3;
      padding: 6px 14px 6px 6px;
      font-size: 14px; font-weight: 600; line-height: 20px;
      color: var(--text); margin-bottom: 8px;
    }
    .club-pill .star-badge {
      width: 26px; height: 26px; border-radius: 50%;
      display: inline-flex; align-items: center; justify-content: center;
      background: #dd8400;
    }
    .club-pill .star-badge svg { width: 14px; height: 14px; }

    /* Logout row */
    .logout-row {
      display: flex; align-items: center; justify-content: space-between;
      padding: 12px 0;
      border: none; background: none; width: 100%;
      font-family: var(--font); font-size: 14px; font-weight: 500;
      line-height: 20px; color: var(--text); cursor: pointer;
    }
    .logout-row svg { width: 20px; height: 20px; color: var(--text); flex-shrink: 0; }
    .logout-row:hover { opacity: 0.7; }
  </style>
  <link rel="stylesheet" href="../../css/navbar.css">
<script>if(localStorage.getItem("fever_logged_in")==="true")document.documentElement.classList.add("u-in")</script>
</head>
<body>
  <div class="phone">
    <!-- Navbar -->
    <nav class="navbar">
      <a class="logo-link" href="home.html">
        <img src="img/fever-logo.svg" alt="Fever">
      </a>
      <div class="nav-icons">
        <a class="nav-icon-btn" href="../../search.html" aria-label="Search"><svg viewBox="0 0 512 512" fill="currentColor"><path d="M384 208A176 176 0 1 0 32 208a176 176 0 1 0 352 0zM343.3 366C307 397.2 259.7 416 208 416C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208c0 51.7-18.8 99-50 135.3L507.3 484.7c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0L343.3 366z"/></svg></a>
        <a class="nav-icon-btn" href="home.html" aria-label="Location"><svg viewBox="0 0 384 512" fill="currentColor"><path d="M352 192c0-88.4-71.6-160-160-160S32 103.6 32 192c0 15.6 5.4 37 16.6 63.4c10.9 25.9 26.2 54 43.6 82.1c34.1 55.3 74.4 108.2 99.9 140c25.4-31.8 65.8-84.7 99.9-140c17.3-28.1 32.7-56.3 43.6-82.1C346.6 229 352 207.6 352 192zm32 0c0 87.4-117 243-168.3 307.2c-12.3 15.3-35.1 15.3-47.4 0C117 435 0 279.4 0 192C0 86 86 0 192 0S384 86 384 192zm-240 0a48 48 0 1 0 96 0 48 48 0 1 0 -96 0zm48 80a80 80 0 1 1 0-160 80 80 0 1 1 0 160z"/></svg></a>
        <a class="nav-icon-btn" href="favorites.html" aria-label="Favorites"><svg viewBox="0 0 512 512" fill="currentColor"><path d="M244 130.6l-12-13.5-4.2-4.7c-26-29.2-65.3-42.8-103.8-35.8c-53.3 9.7-92 56.1-92 110.3v3.5c0 32.3 13.4 63.1 37.1 85.1L253 446.8c.8 .7 1.9 1.2 3 1.2s2.2-.4 3-1.2L443 275.5c23.6-22 37-52.8 37-85.1v-3.5c0-54.2-38.7-100.6-92-110.3c-38.5-7-77.8 6.6-103.8 35.8l-4.2 4.7-12 13.5c-3 3.4-7.4 5.4-12 5.4s-8.9-2-12-5.4zm34.9-57.1C311 48.4 352.7 37.7 393.7 45.1C462.2 57.6 512 117.3 512 186.9v3.5c0 36-13.1 70.6-36.6 97.5c-3.4 3.8-6.9 7.5-10.7 11l-184 171.3c-.8 .8-1.7 1.5-2.6 2.2c-6.3 4.9-14.1 7.5-22.1 7.5c-9.2 0-18-3.5-24.8-9.7L47.2 299c-3.8-3.5-7.3-7.2-10.7-11C13.1 261 0 226.4 0 190.4v-3.5C0 117.3 49.8 57.6 118.3 45.1c40.9-7.4 82.6 3.2 114.7 28.4c6.7 5.3 13 11.1 18.7 17.6l4.2 4.7 4.2-4.7c4.2-4.7 8.6-9.1 13.3-13.1c1.8-1.5 3.6-3 5.4-4.5z"/></svg></a>
        <a class="avatar-wrap" id="avatarBtn" href="login.html" aria-label="Profile">
          <img src="../../img/profile-avatar.png" alt="Profile">
          <svg class="avatar-placeholder" viewBox="0 0 512 512" fill="#536B75"><path d="M406.5 399.6C387.4 352.9 341.5 320 288 320l-64 0c-53.5 0-99.4 32.9-118.5 79.6C69.9 362.2 48 311.7 48 256C48 141.1 141.1 48 256 48s208 93.1 208 208c0 55.7-21.9 106.2-57.5 143.6zm-40.1 32.7C334.4 452.4 296.6 464 256 464s-78.4-11.6-110.5-31.7c7.3-36.7 39.7-64.3 78.5-64.3l64 0c38.8 0 71.2 27.6 78.5 64.3zM256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-272a40 40 0 1 1 0-80 40 40 0 1 1 0 80zm-64-40a64 64 0 1 0 128 0 64 64 0 1 0-128 0z"/></svg>
        </a>
        <a class="nav-icon-btn" href="../../category.html" aria-label="Menu"><svg viewBox="0 0 448 512" fill="currentColor"><path d="M0 80c0-8.8 7.2-16 16-16H432c8.8 0 16 7.2 16 16s-7.2 16-16 16H16C7.2 96 0 88.8 0 80zM0 240c0-8.8 7.2-16 16-16H432c8.8 0 16 7.2 16 16s-7.2 16-16 16H16c-8.8 0-16-7.2-16-16zM448 400c0 8.8-7.2 16-16 16H16c-8.8 0-16-7.2-16-16s7.2-16 16-16H432c8.8 0 16 7.2 16 16z"/></svg></a>
      </div>
    </nav>

    <!-- Dark backdrop behind profile sheet -->
    <div class="sheet-backdrop"></div>

    <!-- Profile Sheet (fixed overlay at bottom) -->
    <section class="sheet">
      <div class="sheet-handle"></div>
      <div class="sheet-header">
        <h1>Profile</h1>
        <button type="button" class="sheet-close" id="sheetCloseBtn" aria-label="Close">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </div>

      <div class="sheet-body">
        <!-- My account -->
        <div class="section">
          <h2 class="section-title">My account</h2>
          <div class="account-email">
            <svg class="google-icon" viewBox="0 0 20 20" fill="none">
              <path d="M18.17 10.2c0-.57-.05-1.12-.15-1.64H10v3.1h4.58a3.92 3.92 0 01-1.7 2.57v2.14h2.75c1.61-1.48 2.54-3.66 2.54-6.17z" fill="#4285F4"/>
              <path d="M10 18.5c2.3 0 4.23-.76 5.63-2.07l-2.75-2.14c-.76.51-1.74.81-2.88.81-2.21 0-4.09-1.5-4.76-3.51H2.4v2.21A8.5 8.5 0 0010 18.5z" fill="#34A853"/>
              <path d="M5.24 11.59a5.1 5.1 0 010-3.26V6.12H2.4a8.5 8.5 0 000 7.68l2.84-2.21z" fill="#FBBC05"/>
              <path d="M10 4.82a4.6 4.6 0 013.27 1.28l2.45-2.45A8.2 8.2 0 0010 1.5a8.5 8.5 0 00-7.6 4.62l2.84 2.21C5.91 6.32 7.79 4.82 10 4.82z" fill="#EA4335"/>
            </svg>
            emiliano.echevarria@feverup.com
          </div>

          <a class="menu-row" href="javascript:void(0)">
            <span>Profile</span>
            <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M9 18l6-6-6-6"/></svg>
          </a>
          <a class="menu-row" href="favorites.html">
            <span>Favorites</span>
            <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M9 18l6-6-6-6"/></svg>
          </a>
        </div>

        <!-- My Tickets -->
        <div class="section">
          <h2 class="section-title">My tickets</h2>
          <a class="ext-link" href="javascript:void(0)">
            See my tickets in the app
            <svg viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 1.5h7.5V9"/><path d="M12.5 1.5L1.5 12.5"/></svg>
          </a>
        </div>

        <!-- Fever Club -->
        <div class="section">
          <div class="club-header">
            <h2 class="section-title">Fever Club</h2>
            <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
          </div>
          <div class="club-pill">
            <span class="star-badge">
              <svg viewBox="0 0 14 14" fill="white"><path d="M7 0l2.16 4.38L14 5.1l-3.5 3.41.83 4.82L7 11.07l-4.33 2.27.83-4.82L0 5.1l4.84-.72L7 0z"/></svg>
            </span>
            625 points
          </div>
          <br>
          <a class="ext-link" href="javascript:void(0)">
            Get rewards in the app
            <svg viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 1.5h7.5V9"/><path d="M12.5 1.5L1.5 12.5"/></svg>
          </a>
        </div>

        <!-- Logout -->
        <div class="section">
          <button type="button" class="logout-row" id="logoutBtn">
            <span>Logout</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
          </button>
        </div>
      </div>
    </section>
  </div>

  <script src="../../js/burger-menu.js"></script>
  <script>
    (function() {
      var LOGGED_IN_KEY = 'fever_logged_in';
      var avatarBtn = document.getElementById('avatarBtn');
      var logoutBtn = document.getElementById('logoutBtn');
      var sheet = document.querySelector('.sheet');
      var backdrop = document.querySelector('.sheet-backdrop');
      var closeBtn = document.getElementById('sheetCloseBtn');

      function isLoggedIn() {
        return localStorage.getItem(LOGGED_IN_KEY) === 'true';
      }

      function setLoggedIn(val) {
        localStorage.setItem(LOGGED_IN_KEY, val ? 'true' : 'false');
      }

      function updateAvatar() {
        if (isLoggedIn()) {
          avatarBtn.classList.add('logged-in');
          avatarBtn.classList.remove('logged-out');
        } else {
          avatarBtn.classList.remove('logged-in');
          avatarBtn.classList.add('logged-out');
        }
      }

      // Open animation on page load
      requestAnimationFrame(function() {
        requestAnimationFrame(function() {
          sheet.classList.add('open');
          backdrop.classList.add('open');
        });
      });

      // Close with slide-down animation then navigate back
      function closeSheet() {
        sheet.classList.remove('open');
        backdrop.classList.remove('open');
        setTimeout(function() { history.back(); }, 360);
      }

      closeBtn.addEventListener('click', closeSheet);
      backdrop.addEventListener('click', closeSheet);

      // Swipe-to-dismiss
      var startY = 0, currentY = 0, isDragging = false;
      sheet.addEventListener('touchstart', function(e) {
        startY = e.touches[0].clientY;
        currentY = startY;
        isDragging = true;
        sheet.style.transition = 'none';
      }, { passive: true });
      sheet.addEventListener('touchmove', function(e) {
        if (!isDragging) return;
        currentY = e.touches[0].clientY;
        var dy = currentY - startY;
        if (dy < 0) dy = 0;
        if (dy > 0) {
          e.preventDefault();
          sheet.style.transform = 'translateX(-50%) translateY(' + dy + 'px)';
        }
      }, { passive: false });
      sheet.addEventListener('touchend', function() {
        if (!isDragging) return;
        isDragging = false;
        sheet.style.transition = '';
        if (currentY - startY > 80) {
          closeSheet();
        } else {
          sheet.style.transform = '';
        }
      });

      logoutBtn.addEventListener('click', function() {
        setLoggedIn(false);
        updateAvatar();
        sheet.classList.remove('open');
        backdrop.classList.remove('open');
        setTimeout(function() {
          window.location.href = (window.flowHref||function(u){return u})('home.html');
        }, 360);
      });

      avatarBtn.addEventListener('click', function(e) {
        if (!isLoggedIn()) {
          e.preventDefault();
          window.location.href = '../../login.html?returnTo=' + encodeURIComponent(window.location.pathname);
        }
      });

      updateAvatar();
    })();
  </script>
  <script src="../../js/flow-param.js"></script>
</body>
</html>
